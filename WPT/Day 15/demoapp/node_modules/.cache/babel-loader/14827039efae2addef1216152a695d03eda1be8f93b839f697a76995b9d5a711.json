{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\IET\\\\Desktop\\\\PRACTICALS\\\\WPT\\\\27 Sept\\\\demoapp\\\\src\\\\ClassComponent1.js\";\nimport React, { Component } from 'react';\n\n// Predefined Methods And Lifecycle\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ClassComponent1 extends Component {\n  constructor(props) {\n    super(props);\n    // 1. Initializing State and Binding Methods (Mounting Phase)\n    // --- Custom Methods (FIXED: Added the missing method using arrow syntax) ---\n    this.incrementCount = () => {\n      this.setState(prevState => ({\n        count: prevState.count + 1\n      }));\n    };\n    this.state = {\n      count: 0,\n      data: 'initial data',\n      // Initializing externalValue to prevent issues with getDerivedStateFromProps on first render\n      externalValue: props.externalValue\n    };\n    // FIX: The incrementCount method is now defined as an arrow function, \n    // so the explicit binding below is not strictly needed but kept for context \n    // if using traditional function syntax. (We'll use arrow function below)\n    // this.incrementCount = this.incrementCount.bind(this); // REMOVED/AVOIDED\n    console.log('1. Constructor: State initialized.');\n  }\n\n  // --- Mounting Phase ---\n\n  static getDerivedStateFromProps(props, state) {\n    // 2. Sync State from Props (Mounting & Updating Phase)\n    // This ensures the internal state tracks the prop change.\n    if (props.externalValue !== state.externalValue) {\n      console.log('2. getDerivedStateFromProps: Syncing externalValue from props.');\n      return {\n        externalValue: props.externalValue\n      };\n    }\n    return null;\n  }\n  componentDidMount() {\n    // 4. Side Effects and Data Fetching (Mounting Phase)\n    this.timer = setInterval(() => {\n      console.log('    [LOG] Timer is running (simulating background task)');\n    }, 5000);\n\n    // Simulate an API call\n    setTimeout(() => {\n      console.log('4. componentDidMount: Simulated API call complete.');\n      this.setState({\n        data: 'Data from API'\n      });\n    }, 1500);\n    console.log('4. componentDidMount: Timer and API call initiated.');\n  }\n\n  // --- Updating Phase ---\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // 5. Performance Check (Updating Phase)\n    if (nextState.count % 2 === 0) {\n      console.log(`5. shouldComponentUpdate: Count is even (${nextState.count}). Allowing update.`);\n      return true;\n    } else {\n      console.log(`5. shouldComponentUpdate: Count is odd (${nextState.count}). Preventing update.`);\n      return false;\n    }\n  }\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    var _document$getElementB;\n    // 7. Capture Pre-DOM-Update Data (Updating Phase)\n    const snapshot = (_document$getElementB = document.getElementById('output-div')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.scrollHeight;\n    console.log('7. getSnapshotBeforeUpdate: Captured scroll height:', snapshot);\n    return snapshot;\n  }\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // 8. Post-Update Side Effects (Updating Phase)\n    if (this.state.count !== prevState.count) {\n      console.log(`8. componentDidUpdate: State updated. Previous count: ${prevState.count}`);\n    }\n    if (this.props.externalValue !== prevProps.externalValue) {\n      console.log(`8. componentDidUpdate: Props updated. New externalValue: ${this.props.externalValue}`);\n    }\n    console.log('8. componentDidUpdate: Snapshot value received:', snapshot);\n  }\n\n  // --- Unmounting Phase ---\n\n  componentWillUnmount() {\n    // 9. Cleanup (Unmounting Phase)\n    clearInterval(this.timer);\n    console.log('9. componentWillUnmount: Cleanup complete. Timer cancelled.');\n  }\n  // --- Rendering ---\n\n  render() {\n    // 3/6. Render (Mounting & Updating Phase)\n    const {\n      count,\n      data,\n      externalValue\n    } = this.state;\n    const {\n      title\n    } = this.props;\n    console.log('3/6. Render: Component rendering...');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"output-div\",\n      style: {\n        border: '2px solid purple',\n        padding: '20px',\n        margin: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [title || 'React Component', \" - Class Component Lifecycle Demo\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Internal State Count: \", count, \" (Updates only on even numbers)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"External Prop Value: \", externalValue]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Data Status: \", data]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.incrementCount,\n        children: \"Increment Internal Count (Triggers Update)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","ClassComponent1","constructor","props","incrementCount","setState","prevState","count","state","data","externalValue","console","log","getDerivedStateFromProps","componentDidMount","timer","setInterval","setTimeout","shouldComponentUpdate","nextProps","nextState","getSnapshotBeforeUpdate","prevProps","_document$getElementB","snapshot","document","getElementById","scrollHeight","componentDidUpdate","componentWillUnmount","clearInterval","render","title","id","style","border","padding","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["C:/Users/IET/Desktop/PRACTICALS/WPT/27 Sept/demoapp/src/ClassComponent1.js"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\n// Predefined Methods And Lifecycle\r\nexport default class ClassComponent1 extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // 1. Initializing State and Binding Methods (Mounting Phase)\r\n        this.state = {\r\n            count: 0,\r\n            data: 'initial data',\r\n            // Initializing externalValue to prevent issues with getDerivedStateFromProps on first render\r\n            externalValue: props.externalValue \r\n        };\r\n        // FIX: The incrementCount method is now defined as an arrow function, \r\n        // so the explicit binding below is not strictly needed but kept for context \r\n        // if using traditional function syntax. (We'll use arrow function below)\r\n        // this.incrementCount = this.incrementCount.bind(this); // REMOVED/AVOIDED\r\n        console.log('1. Constructor: State initialized.');\r\n    }\r\n\r\n    // --- Mounting Phase ---\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        // 2. Sync State from Props (Mounting & Updating Phase)\r\n        // This ensures the internal state tracks the prop change.\r\n        if (props.externalValue !== state.externalValue) {\r\n            console.log('2. getDerivedStateFromProps: Syncing externalValue from props.');\r\n            return { externalValue: props.externalValue };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        // 4. Side Effects and Data Fetching (Mounting Phase)\r\n        this.timer = setInterval(() => {\r\n            console.log('    [LOG] Timer is running (simulating background task)');\r\n        }, 5000);\r\n        \r\n        // Simulate an API call\r\n        setTimeout(() => {\r\n            console.log('4. componentDidMount: Simulated API call complete.');\r\n            this.setState({ data: 'Data from API' });\r\n        }, 1500);\r\n\r\n        console.log('4. componentDidMount: Timer and API call initiated.');\r\n    }\r\n\r\n    // --- Updating Phase ---\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        // 5. Performance Check (Updating Phase)\r\n        if (nextState.count % 2 === 0) {\r\n            console.log(`5. shouldComponentUpdate: Count is even (${nextState.count}). Allowing update.`);\r\n            return true;\r\n        } else {\r\n            console.log(`5. shouldComponentUpdate: Count is odd (${nextState.count}). Preventing update.`);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getSnapshotBeforeUpdate(prevProps, prevState) {\r\n        // 7. Capture Pre-DOM-Update Data (Updating Phase)\r\n        const snapshot = document.getElementById('output-div')?.scrollHeight;\r\n        console.log('7. getSnapshotBeforeUpdate: Captured scroll height:', snapshot);\r\n        return snapshot;\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        // 8. Post-Update Side Effects (Updating Phase)\r\n        if (this.state.count !== prevState.count) {\r\n            console.log(`8. componentDidUpdate: State updated. Previous count: ${prevState.count}`);\r\n        }\r\n        if (this.props.externalValue !== prevProps.externalValue) {\r\n            console.log(`8. componentDidUpdate: Props updated. New externalValue: ${this.props.externalValue}`);\r\n        }\r\n        console.log('8. componentDidUpdate: Snapshot value received:', snapshot);\r\n    }\r\n\r\n    // --- Unmounting Phase ---\r\n\r\n    componentWillUnmount() {\r\n        // 9. Cleanup (Unmounting Phase)\r\n        clearInterval(this.timer);\r\n        console.log('9. componentWillUnmount: Cleanup complete. Timer cancelled.');\r\n    }\r\n    \r\n    // --- Custom Methods (FIXED: Added the missing method using arrow syntax) ---\r\n    incrementCount = () => {\r\n        this.setState(prevState => ({\r\n            count: prevState.count + 1\r\n        }));\r\n    }\r\n\r\n    // --- Rendering ---\r\n\r\n    render() {\r\n        // 3/6. Render (Mounting & Updating Phase)\r\n        const { count, data, externalValue } = this.state;\r\n        const { title } = this.props;\r\n        \r\n        console.log('3/6. Render: Component rendering...');\r\n\r\n        return (\r\n            <div id=\"output-div\" style={{ border: '2px solid purple', padding: '20px', margin: '20px' }}>\r\n                {/* Cleaned up h2 tag */}\r\n                <h2>{title || 'React Component'} - Class Component Lifecycle Demo</h2> \r\n                \r\n                <p>Internal State Count: {count} (Updates only on even numbers)</p>\r\n                <p>External Prop Value: {externalValue}</p>\r\n                <p>Data Status: {data}</p>\r\n                \r\n                <button onClick={this.incrementCount}>\r\n                    Increment Internal Count (Triggers Update)\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}